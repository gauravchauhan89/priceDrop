<!doctype html>
<html  ng-app="priceDropApp" ng-csp>
  <head>
    <title>Flipkart</title>
    <link rel="stylesheet" href="../lib/third-party/angular-csp.css" type="text/css" />
    <link rel="stylesheet" href="../lib/third-party/bootcards-desktop.min.css" type="text/css" />
    <style>
      body {
        min-width: 357px;
        overflow-x: hidden;
        background-color: white;
      }

      .iconImg {
        margin: 5px;
        vertical-align: middle;
        width: 33px;
        height: 33px;
      }
      
      .mainPriceReduced {
      	    background-color: greenyellow;
      }
      
      .exchangePriceReduced {
      	    background-color: yellow;
      }
      
      .otherPriceReduced {
      	    background-color: lawngreen;
      }
      
      .mainPriceIncreased {
      	    background-color: red;
      }
      
      .PriceReduced {
      	display: inline-block;
		margin: 0 0 0 5px;
		border: 1px solid #c9c9c9;
		width: 74px;
		height: 26px;
		/* border-radius: 50%; */
		text-align: center;
		padding: 8px;
		font-size: 12px;
		line-height: 12px;
		color: #6fba54;
      }
      
      .PriceIncrease {
      	display: inline-block;
		margin: 0 0 0 5px;
		border: 1px solid #c9c9c9;
		width: 74px;
		height: 26px;
		/* border-radius: 50%; */
		text-align: center;
		padding: 8px;
		font-size: 12px;
		line-height: 12px;
		color: red;
      }
      
	.slide.ng-enter, .slide.ng-move {
	  -webkit-transition:0.5s linear all;
	  -moz-transition:0.5s linear all;
	  -o-transition:0.5s linear all;
	  transition:0.5s linear all;
	  opacity:0;
	}
	
	.slide.ng-enter.ng-enter-active,
	.slide.ng-move.ng-move-active {
  		opacity:1;
	}
	
	.slide.ng-leave {
	  -webkit-animation:0.5s my_animation;
	  -moz-animation:0.5s my_animation;
	  -o-animation:0.5s my_animation;
	  animation:0.5s my_animation;
	}
	
	@keyframes my_animation {
	  from { opacity:1; }
	  to { opacity:0;}
	}
	
	/*
	  Unfortunately each browser vendor requires
	  its own definition of keyframe animation code...
	*/
	@-webkit-keyframes my_animation {
	  from { opacity:1; }
	  to { opacity:0;}
	}
	
	@-moz-keyframes my_animation {
	  from { opacity:1; }
	  to { opacity:0;}
	}
	
	@-o-keyframes my_animation {
	  from { opacity:1; }
	  to { opacity:0;}
	}
    </style>
	
    <!--
      - JavaScript and HTML must be in separate files: see our Content Security
      - Policy documentation[1] for details and explanation.
      -
      - [1]: http://developer.chrome.com/extensions/contentSecurityPolicy.html
     -->
     <script src="../lib/third-party/jquery-2.1.1.js"></script>
     <script src="../lib/third-party/jquery.xpath.js"></script>
     <script src="../lib/third-party/angular.js"></script>
     <script src="../lib/third-party/angular-animate.js"></script>
     <script src="../lib/third-party/bootstrap.min.js"></script>
     <script src="../lib/third-party/bootcards.min.js"></script>
     <script src="../lib/xpath.js"></script>
     <script src="../lib/common.js"></script>
     <script src="../js/service/storage.js"></script>
     <script src="../js/service/priceChecker.js"></script>
     <script src="../js/model/BaseModel.js"></script>
     <script src="../js/model/Data.js"></script>
     <script src="../js/model/PriceInfo.js"></script>
     <script src="../js/model/PriceChangeInfo.js"></script>
     <script src="../js/model/Details.js"></script>
     <script src="../js/model/FlipkartModel.js"></script>
     <script src="../js/controller/popupController.js"></script>
  </head>
  <body ng-controller="PopupController">
  	<div class="container">
  		<div class="row">
	  		<div class="search-form">
				<div class="col-sm-7">
					<div class="form-group">
						<input type="text" class="form-control" placeholder="Search ..." ng-model="searchText"/>
							<i class="fa fa-search"></i>
					</div>
				</div>
	  		</div>
  		</div>
  		<div class="row">
	  		<div class="col-sm-7 bootcards-cards">
		  		<div ng-repeat="(key, value) in data | searchFilter: searchText" class="slide panel panel-default bootcards-summary" > <!-- ng-class="{'mainPriceReduced': hasMainPriceReduced(value) == 1, 'exchangePriceReduced': hasMainPriceReduced(value) == 2, 'otherPriceReduced': hasMainPriceReduced(value) == 3, 'mainPriceIncreased': hasMainPriceIncreased(value)==1}" -->
		  			<div class="panel-heading">
		  				<div class="row">
		  					<div class="col-xs-2 col-sm-4">
		  						<img class="iconImg" src="../images/Flipkart.png"/>
		  					</div>
		  					<div class="col-xs-10 col-sm-4">
		  						<h3 class="panel-title">{{value.details.name | convertHTMLEntities}}</h3>
		  					</div>
		  				</div>
		  			</div>
		  			<div class="panel-body">
			  			<a href="{{key}}" target="_blank">
			  				<div class="col-xs-6 col-sm-4">
			  					<img class="img-responsive" ng-src="{{value.details.imageUrl}}">
			  				</div>
			  				<div class="col-xs-6 col-sm-4">
			  					<span class="PriceReduced" ng-show="hasMainPriceReduced(value) == 1">Reduced!!</span>
			  					<span class="PriceIncrease" ng-show="hasMainPriceIncreased(value) == 1">Increased!!</span>
			  					<div>
				  					<h3>Rs. <span class="label label-info">{{value.priceInfo.mainPrice}}</span></h3>
				  				</div>
				  				<div ng-show="{{value.priceInfo.exchangePrice != null}}">
				  					Exchange Price:
				  					<b>{{value.priceInfo.exchangePrice}}</b>
				  				</div>
				  				<div ng-show="{{value.priceInfo.otherPrice != null}}">
				  					Other Seller's Price:
				  					<b>{{value.priceInfo.otherPrice}}</b>
				  				</div>
			  				</div>
			  			</a>
		  			</div>
		  			<div class="panel-footer">
		  				<div class="btn-group btn-group-justified">
		  					<div class="btn-group">
		  						<button  class="btn btn-default" ng-click="checkPriceChange(key)">Check</button>
		  					</div>
		  					<div class="btn-group">
		  						<button class="btn btn-default" ng-click="remove(key)">Remove</button>
		  					</div>
		  				</div>
		  			</div>
		  		</div>
	  		</div>
	  	</div>
  	</div>
  	<div id="flipkart-list">
  	</div>
  </body>
</html>

